<?xml version="1.0" encoding="utf-8" ?>
<Window
    x:Class="WinUI3Example.TenMicaBackdropWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:essential="using:WinUI3Package"
    xmlns:local="using:WinUI3Example"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="TenMicaBackdropWindow"
    mc:Ignorable="d">

    <Window.SystemBackdrop>
        <essential:TenMicaBackdrop BindThemeTo="{x:Bind RootGrid}" EnableWhenInactive="{x:Bind EnableInactiveSwitch.IsOn, Mode=OneWay}" />
    </Window.SystemBackdrop>

    <Grid x:Name="RootGrid">
        <StackPanel
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            Spacing="20">
            <ToggleSwitch
                x:Name="EnableInactiveSwitch"
                HorizontalAlignment="Center"
                Header="Enable when window is inactive" />

            <TextBlock>
                This brush automatically handles:<LineBreak />
                1. Cross-screen window moving with different dpi<LineBreak />
                2. Wallpaper changes<LineBreak />
                3. Theme changes<LineBreak />
                4. Monitor changes<LineBreak />
                And it's optimized! Only one Compositor and wallpaper surface are created per thread regardless how many windows with this brush are applied!</TextBlock>
        </StackPanel>

        <local:ThemeToggleButton
            HorizontalAlignment="Left"
            VerticalAlignment="Bottom"
            Root="{x:Bind RootGrid}" />
    </Grid>
</Window>
